version: '2.0'
services:
  gateway.acumosa.org:
    container_name: acumosa
    image: federation-gateway-test:1.1.0-SNAPSHOT
    environment:
      SPRING_APPLICATION_JSON: '{
        "federation" : {
          "instance" : "adapter",
          "instance.name" : "test",
          "operator" : "anonymous",
          "address" : "0.0.0.0",
          "server" : {
            "port" : 9001
          },
          "ssl" : {
            "key-store" : "ist-acumosa.pkcs12",
            "key-store-password" : "acumosa",
            "key-store-type" : "PKCS12",
   	        "key-password" : "acumosa",
     	      "trust-store" : "acumosTrustStore.jks",
            "trust-store-password" : "acumos"
         	}
        },
        "local" : {
          "address": "0.0.0.0",
          "server": {
            "port" : 9011
          },
          "ssl" : {
            "key-store" : "ist-acumosa.pkcs12",
            "key-store-password" : "acumosa",
            "key-store-type" : "PKCS12",
            "key-password" : "acumosa",
      	    "trust-store" : "acumosTrustStore.jks",
        	  "trust-store-password" : "acumos"
          }
        },
        "peer": {
          "jobchecker": {
            "interval": 300
          }
        },
        "peersLocal" : {
          "source" : "classpath:/acumosa-peers.json"
        },
        "catalogLocal" : {
          "source" : "classpath:/acumosa-catalog.json"
        }
      }'
    expose:
      - "9001"
    ports:
      - "9001:9001"
    logging:
      driver: json-file

  gateway.acumosb.org:
    container_name: acumosb
    image: federation-gateway-test:1.1.0-SNAPSHOT
    environment:
      SPRING_APPLICATION_JSON: '{
        "federation" : {
          "instance" : "adapter",
          "instance.name" : "test",
          "operator" : "anonymous",
          "address" : "0.0.0.0",
          "server" : {
            "port" : 9002
          },
          "ssl" : {
            "key-store" : "ist-acumosa.pkcs12",
            "key-store-password" : "acumosb",
            "key-store-type" : "PKCS12",
   	        "key-password" : "acumosb",
     	      "trust-store" : "acumosTrustStore.jks",
            "trust-store-password" : "acumos"
         	}
        },
        "local" : {
          "address": "0.0.0.0",
          "server": {
            "port" : 9012
          },
          "ssl" : {
            "key-store" : "ist-acumosa.pkcs12",
            "key-store-password" : "acumosb",
            "key-store-type" : "PKCS12",
            "key-password" : "acumosb",
      	    "trust-store" : "acumosTrustStore.jks",
        	  "trust-store-password" : "acumos"
          }
        },
        "peer": {
          "jobchecker": {
            "interval": 300
          }
        },
        "peersLocal" : {
          "source" : "classpath:/acumosb-peers.json"
        },
        "catalogLocal" : {
          "source" : "classpath:/acumosb-catalog.json"
        }
      }'
    expose:
      - "9002"
    ports:
      - "9002:9002"
    logging:
      driver: json-file

